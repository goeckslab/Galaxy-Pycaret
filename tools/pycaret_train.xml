<tool id="pycaret_tool" name="PyCaret Model Training" version="@VERSION@" profile="@PROFILE@">
    <description>Train and evaluate machine learning models using PyCaret.</description>
    <macros>
        <import>pycaret_macros.xml</import>
    </macros>
    <expand macro="python_requirements" />
    <command>
        <![CDATA[
        python '$__tool_directory__/pycaret_train.py' $input_file $target_feature "`pwd`" $model_type
        
        ]]>
    </command>
    <inputs>
        <param name="model_type" type="select" label="Task">
            <option value="classification" >classification</option>
        </param>
        <param name="input_file" type="data" format="csv,tabular" label="Input Dataset (CSV or TSV)"/>
        <param name="target_feature" multiple="false" type="data_column" use_header_names="true" data_ref="input_file" label="Select the target column:" />
    </inputs>
    <outputs>
        <data name="model" format="data" from_work_dir="model.pkl" label="${tool.name} best model on ${on_string}"/>
        <data name="dashboard" format="html" from_work_dir="dashboard.html" label="${tool.name} Dashboard on ${on_string}"/>
        <data name="comparison_result" format="html" from_work_dir="comparison_result.html" label="${tool.name} Comparison result on ${on_string}"/>
    </outputs>
    <help>
        This tool uses PyCaret to train and evaluate machine learning models.
        Ensure that the Conda environment specified in the requirements is correctly set up.
    </help>
</tool>
